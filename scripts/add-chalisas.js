const mongoose = require('mongoose');

const MONGODB_URI = 'mongodb+srv://sarvdev:Vipin1_pushkar@sarvdev.meedqkf.mongodb.net/sarvdev-temple?retryWrites=true&w=majority&appName=Sarvdev';

const DevotionalSchema = new mongoose.Schema({
  title: { type: String, required: true },
  description: { type: String },
  category: { type: String },
  language: { type: String, default: 'Sanskrit' },
  deity: { type: String },
  subCategory: { type: String },
  lyrics: { type: String },
  audioUrl: { type: String },
  status: { type: String, default: 'approved' },
  createdAt: { type: Date, default: Date.now },
  updatedAt: { type: Date, default: Date.now }
});

const Devotional = mongoose.models.Devotional || mongoose.model('Devotional', DevotionalSchema);

const chalisas = [
  {
    title: 'Shri Hanuman Chalisa',
    deity: 'Hanuman',
    category: 'Chalisa',
    status: 'approved',
    language: 'Hindi',
    lyrics: `दोहा:
श्रीगुरु चरन सरोज रज, निजमन मुकुरु सुधारि।
बरनउं रघुबर बिमल जसु, जो दायकु फल चारि॥
बुद्धिहीन तनु जानिके, सुमिरौं पवन-कुमार।
बल बुद्धि बिद्या देहु मोहिं, हरहु कलेस बिकार॥

चौपाई:
जय हनुमान ज्ञान गुन सागर। जय कपीस तिहुं लोक उजागर॥
राम दूत अतुलित बल धामा। अंजनि-पुत्र पवनसुत नामा॥

सन्कादिक ब्रह्मादि मुनीसा। नारद सारद सहित अहीसा॥
जम कुबेर दिगपाल जहां ते। कबि कोबिद कहि सके कहां ते॥

तुम उपकार सुग्रीवहिं कीन्हा। राम मिलाय राज पद दीन्हा॥
तुम्हरो मंत्र बिभीषन माना। लंकेस्वर भए सब जग जाना॥

युग सहस्र जोजन पर भानू। लील्यो ताहि मधुर फल जानू॥
प्रभु मुद्रिका मेलि मुख माहीं। जलधि लांघि गए अचरज नाहीं॥

दुर्गम काज जगत के जेते। सुगम अनुग्रह तुम्हरे तेते॥
राम दुआरे तुम रखवारे। होत न आज्ञा बिनु पैसारे॥

सब सुख लहै तुम्हारी सरना। तुम रक्षक काहू को डरना॥
आपन तेज सम्हारो आपै। तीनों लोक हांक तें कांपै॥

भूत पिसाच निकट नहिं आवै। महाबीर जब नाम सुनावै॥
नासै रोग हरे सब पीरा। जपत निरंतर हनुमत बीरा॥

संकट तें हनुमान छुड़ावै। मन क्रम बचन ध्यान जो लावै॥
सब पर राम तपस्वी राजा। तिन के काज सकल तुम साजा॥

और मनोरथ जो कोई लावै। सोई अमित जीवन फल पावै॥
चारों जुग परताप तुम्हारा। है परसिद्ध जगत उजियारा॥

साधु सन्त के तुम रखवारे। असुर निकन्दन राम दुलारे॥
अष्टसिद्धि नौ निधि के दाता। अस बर दीन जानकी माता॥

राम रसायन तुम्हरे पासा। सदा रहो रघुपति के दासा॥
तुह्मरे भजन राम को पावै। जनम जनम के दुख बिसरावै॥

अन्त काल रघुबर पुर जाई। जहां जन्म हरिभक्त कहाई॥
और देवता चित्त न धरई। हनुमत सेइ सर्ब सुख करई॥

संकट कटै मिटै सब पीरा। जो सुमिरै हनुमत बलबीरा॥
जै जै जै हनुमान गोसाईं। कृपा करहु गुरुदेव की नाईं॥

जो सत बार पाठ कर कोई। छूटहि बन्दि महा सुख होई॥
जो यह पढ़ै हनुमान चालीसा। होय सिद्धि साखी गौरीसा॥

तुलसीदास सदा हरि चेरा। कीजै नाथ हृदय महं डेरा॥

दोहा:
पवनतनय संकट हरन, मंगल मूरति रूप।
राम लखन सीता सहित, हृदय बसहु सुर भूप॥`,
    description: 'The most popular and powerful 40-verse devotional hymn dedicated to Lord Hanuman, composed by Saint Tulsidas. Reciting this brings strength, courage, and removes all obstacles.'
  },
  {
    title: 'Shri Ganesh Chalisa',
    deity: 'Ganesha',
    category: 'Chalisa',
    status: 'approved',
    language: 'Hindi',
    lyrics: `दोहा:
जय गणपति सदगुण सदन, कविवर बदन कृपाल।
विघ्न हरण मंगल करण, जय जय गिरिजालाल॥

चौपाई:
जय जय जय गणपति गण राजू। मंगल भरण करण शुभ काजू॥
जै गजबदन सदन सुखदाता। विश्व विनायक बुद्धि विधाता॥

वक्रतुण्ड शुचि शुण्ड सुहावन। तिलक त्रिपुण्ड भाल मन भावन॥
राजत मणि मुक्तन उर माला। स्वर्ण मुकुट शिर नयन विशाला॥

पुस्तक पाणि कुठार त्रिशूलं। मोदक भोग सुगन्धित फूलं॥
सुन्दर पीताम्बर तन साजित। चरण पादुका मुनि मन राजित॥

धनि शिवसुवन षडानन भ्राता। गौरी लालन विश्व-विख्याता॥
ऋद्धि सिद्धि तव चंवर सुधारे। मूषक वाहन सोहत द्वारे॥

कहौं जन्म शुभ कथा तुम्हारी। अति शुचि पावन मंगलकारी॥
एक समय गिरिराज कुमारी। पुत्र हेतु तप कीन्हो भारी॥

भयो यज्ञ जब पूर्ण अनूपा। तब पहुंच्यो तुम धरि द्विज रूपा॥
अतिथि जानि कै गौरी सुखारी। बहु विधि सेवा करी तुम्हारी॥

अति प्रसन्न ह्वै तुम वर दीन्हा। मातु पुत्र हित जो तप कीन्हा॥
मिलहि पुत्र तुही, बुद्धि विशाला। बिना गर्भ धारण यही काला॥

गणनायक गुण ज्ञान निधाना। पूजित प्रथम रूप भगवाना॥
अस कहि अन्तर्धान रूप ह्वै। पालना पर बालक स्वरूप ह्वै॥

बनि शिशु रुदन जबहिं तुम ठाना। लखि मुख सुख नहिं गौरी समाना॥
सकल मगन सुखमंगल गावहिं। नभ ते सुरन सुमन वर्षावहिं॥

शम्भु उमा बहुदान लुटावहिं। सुर मुनिजन सुत देखन आवहिं॥
लखि अति आनन्द मंगल साजा। देख्यो पुत्र विलोकन राजा॥

पुत्र-देखि शनि मन मुसुकाना। कहेऊ देख नहिं सकत कृपाना॥
बार-बार मातु-पितु अनुरोधा। ते निज शिशु दिखावन सोधा॥

मातु-पितु बहु मिनती करी। तब शनिदेव उठि आसन धरी॥
देखन लगे जो ही वह बालक। पड़ा भूमि पर शीश अकालक॥

मातु-पितु उर अति शोक समाना। रुदन किए शिवशंकर जाना॥
तुरत गरुड़ चढ़ि विष्णु सिधाए। काटि चक्र सो गज शिर लाए॥

बालक के धड़ ऊपर धारयो। प्राण मन्त्र पढ़ नवजीवन दारयो॥
नाम गणेश शम्भु तब कीन्हे। प्रथम पूज्य बुद्धि निधि वर दीन्हे॥

बुद्धि परीक्षा जब शिव कीन्हा। पृथ्वी की प्रदक्षिणा लीन्हा॥
चले षडानन भूमण्डल लागे। रचे बैठ तुम माता-पिता आगे॥

चरण-मातु-पितु के धर लीन्हे। तिनके सात प्रदक्षिण कीन्हे॥
धनि गणेश कहि शिव हिये हरषे। नभ ते सुरन सुमन बहु बरषे॥

तुम्हरी महिमा बुद्धि बड़ाई। शेष सहसमुख सकै न गाई॥
मैं मतिहीन मलीन दुखारी। करहूं कौन विधि विनय तुम्हारी॥

भजत रामसुन्दर प्रभुदासा। लघु हूं ते प्रभु करहु सुप्रकासा॥
शिव सुत सदा सरण मै आयो। तुम बिन को न पुकारा जाओ॥

विनय करै सेवक जन मोंहि। माथे पर करताल धरो ही॥
गोस्वामी तुलसीदास राखा। शुभ करनी कृपा कर आंखा॥

दोहा:
श्री गणपति की आरती, जो कोइ शिवजी गावे।
कहत शिवानंद स्वामी, मनवांछित फल पावे॥`,
    description: 'Sacred 40-verse hymn dedicated to Lord Ganesha, the remover of obstacles and bestower of wisdom and prosperity.'
  }
];

async function addChalisas() {
  try {
    await mongoose.connect(MONGODB_URI);
    console.log('Connected to MongoDB\n');

    for (const chalisa of chalisas) {
      const newChalisa = new Devotional(chalisa);
      await newChalisa.save();
      console.log(`✓ Added: ${chalisa.title}`);
    }

    console.log('\n✓ Chalisas added successfully!');
    console.log(`Total chalisas added: ${chalisas.length}`);

    // Verify total count
    const allChalisas = await Devotional.find({ category: 'Chalisa' });
    console.log(`\nTotal Chalisas in database: ${allChalisas.length}`);

    await mongoose.connection.close();
    console.log('\nDatabase connection closed.');

  } catch (error) {
    console.error('Error adding chalisas:', error);
    process.exit(1);
  }
}

addChalisas();
